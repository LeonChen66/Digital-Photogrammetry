ini = [1.12219177998682;5.34579114974209;5.94750018115217;-0.608363154409308;-0.336530469940309;0.435883782776197;1.22933339187307;5.56683242674660;6.04243942792535;-0.468504138712879;-0.501277876218930;0.422921647895119;1.33143845411750;5.52611466007445;6.08862788138783;-0.344545566278961;-0.442439466328111;0.343727504907874;1.37634567940559;5.77728801543988;6.19126063079922;-0.159296520561392;-0.543027166071913;0.331135702717990;1.40166675287049;6.07667358156307;6.24138188404946;-0.00296370917184378;-0.647228056649635;0.339720129236602;1.40522917414745;6.27243375389385;6.25629568789037;0.254652150412678;-0.685856945853008;0.344834041699639;1.38900325774023;0.344980691733832;0.0708648497651124;0.526238262779457;-0.630546914800295;0.344944067830918;1.34267443432152;0.492155619173238;0.107724248758665;0.675989231243043;-0.570752751511694;0.340835222724408;1.34779861546042;0.668418993164191;0.146500973117402;0.775603251479495;-0.495446043678276;0.357894334346383;1.31541088149571;0.763795586529624;0.205292740569385;0.861099567071188;-0.440677579222893;0.345066606380992];
for i = 1:10  %photo number
    omega = ini(i*6-5);
    phi = ini(i*6-4);
    kappa = ini(i*6-3);
m11 = cos(phi)*cos(kappa);
m12 = sin(omega)*sin(phi)*cos(kappa)+cos(omega)*sin(kappa);
m13 = -cos(omega)*sin(phi)*cos(kappa)+sin(omega)*sin(kappa);
m21 = -cos(phi)*sin(kappa);
m22 = -sin(omega)*sin(phi)*sin(kappa)+cos(omega)*cos(kappa);
m23 = cos(omega)*sin(phi)*sin(kappa)+sin(omega)*cos(kappa);
m31 = sin(phi);
m32 = -sin(omega)*cos(phi);
m33 = cos(omega)*cos(phi);
i
Ratation_M = [m11 m12 m13;m21 m22 m23;m31 m32 m33]
XYZ = [ini(6*i-2) ini(6*i-1) ini(6*i)]
end